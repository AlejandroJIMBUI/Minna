---
import "../../styles/SignUpForm.css";

const { error, message } = Astro.props;
---

<div class="auth-form-container">
  <h2 class="form-title">Create Account</h2>

  {error && <div class="error-message">{decodeURIComponent(error)}</div>}
  {message && <div class="success-message">{decodeURIComponent(message)}</div>}

  <form method="POST" action="/api/auth/signup" class="auth-form">
    <div class="form-group">
      <label for="username">Username</label>
      <input
        type="text"
        id="username"
        name="username"
        required
        placeholder="your_user"
        pattern="[a-zA-Z0-9_]+"
        title="Only letters, numbers, and underscores"
      />
      <small
        style="color: var(--brightblack); font-size: 0.8rem; margin-top: 0.25rem;"
      >
        Only letters, numbers, and underscores
      </small>
    </div>

    <div class="form-group">
      <label for="fullName">Full name</label>
      <input
        type="text"
        id="fullName"
        name="fullName"
        required
        placeholder="Your full name"
      />
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        required
        placeholder="your@email.com"
      />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        name="password"
        required
        placeholder="Your Password"
        minlength="6"
      />
      <small
        style="color: var(--brightblack); font-size: 0.8rem; margin-top: 0.25rem;"
      >
        Minimum 6 characters
      </small>
    </div>

    <button type="submit" class="auth-button">Register</button>
  </form>

  <div class="auth-links">
    <p>
      Do you already have an account? <a href="/login" class="auth-link"
        >Log in here</a
      >
    </p>
  </div>
</div>
